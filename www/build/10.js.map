{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\nimport { SharedModule } from '../../app/shared.module';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n    SharedModule\n  ],\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { AlertController, App, NavParams, ViewController, Slides, IonicPage } from 'ionic-angular';\nimport { UserProvider, ToastProvider, LoadingProvider } from '../../providers/providers';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { TranslateService } from '@ngx-translate/core';\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n  @ViewChild('slider') slider: Slides;\n  @ViewChild('innerSlider') innerSlider: Slides;\n\n  private loginForm : FormGroup;\n  private signupForm : FormGroup;\n  private resetForm : FormGroup;\n\n  constructor(private fb: FormBuilder, private translate: TranslateService, private navParams: NavParams, private toast: ToastProvider, public user: UserProvider, public loader: LoadingProvider, public alertCtrl: AlertController, public app: App, public viewCtrl: ViewController) { \n    this.loginForm = this.fb.group({\n      user: ['', Validators.required ],\n      pass: ['', Validators.required ]\n    });\n\n    this.signupForm = this.fb.group({\n      name: ['', Validators.required ],\n      user: ['', Validators.required ],\n      email: ['', Validators.email ],\n      pass: ['', Validators.required ],\n      pass2: ['', Validators.required ]\n    })\n\n    this.resetForm = this.fb.group({\n      email: ['', Validators.email ]\n    });\n  }\n\n  goToLogin() {\n    this.slider.slideTo(1);\n  }\n\n  goToSignup() {\n    this.slider.slideTo(2);\n  }\n\n  slideNext() {\n    this.innerSlider.slideNext();\n  }\n\n  slidePrevious() {\n    this.innerSlider.slidePrev();\n  }\n\n  submitSignup() {\n    this.loader.present();\n\n    this.user.nonce('user', 'register').map(x => x.json()).subscribe( x => {\n      this.signupForm.value.nonce = x.nonce;\n      this.user.signup(this.signupForm.value).map(y => y.json())\n        .subscribe( (y) => {\n          let tmp = {\n            user: this.signupForm.value.user,\n            pass: this.signupForm.value.pass\n          }\n          this.user.login(tmp).map(res => res.json())\n            .subscribe( res => {\n              if(res.status == 'ok'){\n                this.user._loggedIn(res, this.navParams.data.tabIndex);\n                this.translate.get(['REGIST_SUCCESS'], {value: this.signupForm.value.name}).subscribe( x=> {\n                  this.toast.show(x.REGIST_SUCCESS);\n                });\n                this.dismiss();\n                this.loader.dismiss();\n              }else{\n                this.toast.show(res.error);\n              }\n            }, err => {\n              this.loader.dismiss();\n              this.toast.show(err.json().error);        \n            });\n      }, err => {\n        this.loader.dismiss();\n        this.toast.show(err.json().error);        \n      });\n    }, err => {\n      this.loader.dismiss();\n      this.toast.show(err.json().error);        \n    });\n  }\n\n  submitReset(){\n    this.loader.present();\n    this.user.reset(this.resetForm.value).map(res => res.json())\n      .subscribe( (res) => {\n        if(res.status == 'ok')\n          this.toast.show(res.msg);\n        else\n          this.toast.show(res.error);\n        this.loader.dismiss();\n    }, err => {\n      this.loader.dismiss();\n      this.toast.show(err.json().error);        \n    });\n  }\n\n  submitLogin() {\n    this.loader.present();\n    this.user.login(this.loginForm.value).map(res => res.json())\n      .subscribe( (res) => {\n        if(res.status == 'ok'){\n          this.user._loggedIn(res, this.navParams.data.tabIndex);\n          this.translate.get(['LOGIN_SUCCESS'], {value: this.user.name}).subscribe( x=> {\n            this.toast.show(x.LOGIN_SUCCESS);\n          });\n          this.dismiss();\n        }else\n          this.toast.show(res.error);\n      this.loader.dismiss();\n    }, err => {\n      this.loader.dismiss();\n      this.toast.show(err.json().error);        \n    });\n  }\n  \n  dismiss() {\n\t\tthis.viewCtrl.dismiss();\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}