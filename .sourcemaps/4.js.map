{"version":3,"sources":["../../src/pages/product/product.module.ts","../../src/pages/product/product.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { SharedModule } from '../../app/shared.module';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProductPage } from './product';\nimport { IonicImageViewerModule } from 'ionic-img-viewer';\n\n@NgModule({\n  declarations: [\n    ProductPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProductPage),\n    SharedModule,\n    IonicImageViewerModule\n  ],\n})\nexport class ProductPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/product/product.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, AlertController, Platform, ModalController, NavParams } from 'ionic-angular';\nimport { WishlistProvider, LoadingProvider, ToastProvider, WooCommerceProvider, HistoryProvider } from '../../providers/providers';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { TranslateService } from '@ngx-translate/core';\n\n@IonicPage()\n@Component({\n  selector: 'page-product',\n  templateUrl: 'product.html',\n})\n\nexport class ProductPage {\n  product: any;\n\n  variations: any[] = [];\n  reviews: any[] = [];\n  related: any[] = [];\n  isSetVariation: boolean = false;\n  \n  constructor(private history: HistoryProvider, private alert: AlertController, private platform: Platform, private socialSharing: SocialSharing, private translate: TranslateService, private toast: ToastProvider, private wishlist: WishlistProvider, private navCtrl: NavController, private loader: LoadingProvider, private modal: ModalController, private navParam: NavParams, private woo: WooCommerceProvider) {\n    this.loader.present();\n\n    this.product = this.navParam.data.params;\n    this.history.post(this.product);\n\n    if(this.product.variations.length > 0){\n      this.woo.getProductVariations(this.product.id).then( (val) => {\n        this.product.variations = val;\n      })\n    }\n\n    if(this.product.rating_count > 0){\n      this.woo.getProductReviews(this.product.id).then( (val) => {\n        this.product.reviews = val;\n        this.loader.dismiss();\n      })\n    }\n\n    this.product.related = this.woo.getProductRelated(this.product.related_ids);\n    this.loader.dismiss();\n  }\n\n  setVariation(e){\n    let x = JSON.parse(e);\n    this.product.variation_id = x.id;\n    this.product.price = x.price;\n    this.product.regular_price = x.regular_price;\n    this.product.on_sale = x.on_sale;\n    this.product.in_stock = x.in_stock;\n    this.product.attributes = x.attributes;\n    this.isSetVariation = true;\n  }\n\n  viewCart(){\n    this.modal.create('MiniCartPage', {}, { cssClass: 'inset-modal' }).present();\n  }\n\n  openModal(pageName) {\n    if(this.product.variations.length > 0 && !this.isSetVariation){\n      this.translate.get(['SELECT_VARIATION']).subscribe( x=> {\n        this.toast.show(x.SELECT_VARIATION);\n      });\n    }else{\n      this.modal.create(pageName, {product: this.product}, { cssClass: 'inset-modal' }).present();\n      this.translate.get(['ADDED_TO_CART']).subscribe( x=> {\n        this.toast.show(x.ADDED_TO_CART);\n      });\n    }\n  }\n\n  setFav(product: any){\n    this.translate.get(['REMOVE_WISH', 'ADDED_WISH']).subscribe( x=> {\n\t\t\tlet msg = product.isFav ? x.REMOVE_WISH : x.ADDED_WISH;\n\t\t\tthis.wishlist.post(product);\n\t\t\tproduct.isFav = product.isFav ? false : true;\n\t\t\tthis.toast.show(msg);\n    });\n  }\n\n  share(product: any){\n    // console.log(product);\n    if (!this.platform.is('cordova')) {\n      this.translate.get(['OK', 'ONLY_DEVICE', 'ONLY_DEVICE_DESC']).subscribe( x=> {\n        this.alert.create({\n          title: x.ONLY_DEVICE,\n          message: x.ONLY_DEVICE_DESC,\n          buttons: [{\n              text: x.OK\n            }]\n        }).present();\n        return false;\n      });\n\n    }else{\n      let img = [];\n      for(let i in product.images)\n        img.push(product.images[i].src);\n  \n      this.socialSharing.share(product.name, product.name, img, product.permalink).then((x) => {\n        console.log(x);\n        this.toast.show('Successfully shared');\n      }).catch((err) => {\n        console.log(err);\n      });\n    }\n  }\n  \n  goTo(page: string, params: any){\n\t\tthis.navCtrl.push(page, {params: params});\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/product/product.ts"],"sourceRoot":""}